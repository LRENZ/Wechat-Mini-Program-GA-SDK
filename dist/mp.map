{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Interceptor.js","webpack:///./src/common.js","webpack:///./src/config.js","webpack:///./src/helper.js","webpack:///./src/index.js","webpack:///./src/log.js","webpack:///./src/mp.js","webpack:///./src/request.js","webpack:///./src/validation.js"],"names":["Interceptor","_list","use","u","list","l","remove","clear","fn","push","Store","GAlog","wx","console","log","document","URL","val","env","reverse","window","localStorage","setItem","JSON","stringify","getLog","setStorageSync","shift","length","a","b","Date","time","getStorageSync","getItem","_default","debug","proxyURL","GAdebugURL","KeepTransferRequest","KeepTransferReponse","validateHit","maxLogLength","GAURL","method","headers","rest","wxRequestTimeout","helpers","obj","Object","keys","map","key","join","msg","Error","dest","src","name","merge","date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","formatNumber","n","toString","helper","MP","Logger","config","size","add","formatTime","de","options","create","interceptors","request","response","args","op","_preprocessArgs","parse","url","getEnvURL","data","defaultGaData","arg","flat","res","Request","cog","mh","transferRequest","forEach","send","Log","option","String","undefined","toUpperCase","formData","concat","getUrl","transferResponse","xhr","XMLHttpRequest","responseType","onreadystatechange","readyState","status","enqueue","onSuccess","error","onError","open","setRequestHeader","header","timeout","success","fail","isonWechat","weRequest","webRequest","schema"],"mappings":"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","file":"mp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","class Interceptor {\r\n  constructor() {\r\n    this._list = [];\r\n    this.use = this.u\r\n    this.list = this.l\r\n    this.remove = this.clear\r\n  }\r\n\r\n  u(fn) {\r\n    this._list.push(fn);\r\n  }\r\n\r\n  l() {\r\n    return this._list;\r\n  }\r\n  clear(){\r\n    this._list = []\r\n  }\r\n}\r\n\r\n\r\nexport default Interceptor;\r\n","class Store{\r\n  constructor(){\r\n    this.GAlog = []\r\n  }\r\n\r\n\r\n  env(){\r\n    if(typeof wx == \"object\"){\r\n      console.log(\"on wechat\")\r\n      return \"WECHAT\"\r\n    }\r\n\r\n    if (!!document.URL){\r\n      console.log(\"on Web\")\r\n      return \"WEB\"\r\n    }\r\n  }\r\n\r\n\r\n\r\n  add(val){\r\n    if(this.env() == \"WEB\"){\r\n      this.GAlog.push(val)\r\n      this.GAlog = this.GAlog.reverse()\r\n      window.localStorage.setItem(\"gaLog\",JSON.stringify(this.GAlog));\r\n      return this.getLog()\r\n    }\r\n\r\n    if(this.env() == \"WECHAT\"){\r\n      this.GAlog.push(val)\r\n      this.GAlog = this.GAlog\r\n      wx.setStorageSync(\"gaLog\",this.GAlog)\r\n      return this.getLog()\r\n    }\r\n\r\n  }\r\n\r\n  remove(){\r\n    if(this.env() == \"WEB\"){\r\n      this.GAlog = []\r\n      window.localStorage.clear()\r\n      return this.getLog()\r\n    }\r\n\r\n    if(this.env() == 'WECHAT'){\r\n      this.GAlog = []\r\n      wx.setStorageSync(\"gaLog\",this.GAlog)\r\n      return this.getLog()\r\n    }\r\n    //wechat\r\n  }\r\n\r\n  shift(){\r\n    if(this.env() == \"WEB\"){\r\n      this.GAlog.shift()\r\n      this.GAlog = this.GAlog.reverse()\r\n      window.localStorage.setItem(\"gaLog\",JSON.stringify(this.GAlog));\r\n      return this.getLog()\r\n    }\r\n\r\n    if(this.env() == \"WECHAT\"){\r\n      this.GAlog.shift()\r\n      this.GAlog = this.GAlog\r\n      wx.setStorageSync(\"gaLog\",this.GAlog)\r\n      return this.getLog()\r\n    }\r\n\r\n    //wechat\r\n  }\r\n\r\n  size(){\r\n    if(this.env() == \"WEB\"){\r\n      return this.GAlog.length\r\n    }\r\n\r\n    if(this.env() == \"WECHAT\"){\r\n      return this.GAlog.length\r\n    }\r\n    //wechat\r\n  }\r\n\r\n  sortByTime(a,b){\r\n  return new Date(a.time) - new Date(b.time)\r\n}\r\n\r\n   getLog(){\r\n     if(this.env() == \"WECHAT\"){\r\n       return wx.getStorageSync(\"gaLog\")\r\n     }\r\n     if(this.env() == \"WEB\"){\r\n       return window.localStorage.getItem(\"gaLog\");\r\n     }\r\n   }\r\n\r\n}\r\n\r\nexport default Store\r\n","\r\nconst _default = {\r\n  debug:true,\r\n  proxyURL:'',\r\n  GAdebugURL:\"https://www.google-analytics.com/debug/collect\",\r\n  KeepTransferRequest:false,\r\n  KeepTransferReponse:false,\r\n  validateHit:false,\r\n  maxLogLength:20,\r\n  GAURL:\"https://www.google-analytics.com/collect\",\r\n  method: 'POST',\r\n  headers: {\r\n      'X-Request-By': 'XMLHttpRequest',\r\n      'Content-Type':'application/x-www-form-urlencoded'\r\n  },\r\n  rest:'',\r\n  wxRequestTimeout:2000,\r\n};\r\n\r\n\r\nexport default _default\r\n","class helpers {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  objectToParams(obj){\r\n    Object.keys(obj).map(function(key) {\r\n  return key + '=' + obj[key];\r\n}).join('&');\r\n  }\r\n\r\n  Error(msg){\r\n    if(msg){\r\n      throw new Error(msg);\r\n    }\r\n  }\r\n\r\n  merge(dest, src) {\r\n  if(JSON.stringify(src) === '{}') return dest\r\n  for (let name in src) {\r\n    if (typeof src[name] == 'object') {\r\n      if (!dest[name]) {\r\n        dest[name] = {};\r\n      }\r\n\r\n      this.merge(dest[name], src[name]);\r\n    } else {\r\n      dest[name] = src[name];\r\n    }\r\n  }\r\n}\r\n\r\nformatTime(date){\r\n  const year = date.getFullYear()\r\n  const month = date.getMonth() + 1\r\n  const day = date.getDate()\r\n  const hour = date.getHours()\r\n  const minute = date.getMinutes()\r\n  const second = date.getSeconds()\r\n\r\n  return [year, month, day].map(this.formatNumber).join('/') + ' ' + [hour, minute, second].map(this.formatNumber).join(':')\r\n}\r\n\r\nformatNumber(n){\r\n  n = n.toString()\r\n  return n[1] ? n : '0' + n\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nconst helper = new helpers()\r\n\r\n\r\nexport default helper;\r\n","import MP from './mp'\r\n\r\n\r\n/*let t = {\r\n\r\n  transferRequest(config){\r\n    config.data.dp = \"/test\"\r\n    return config\r\n  },\r\n  data:{\r\n    cid:1,\r\n    ua:\"test_ua\",\r\n    ul:\"zh_cn\",\r\n\r\n  },\r\n\r\n  transferResponse(res){\r\n    res.test = \"test\"\r\n    console.log(res)\r\n    return res\r\n  },\r\n  validateHit:false,\r\n\r\n  onSuccess(config){\r\n    console.log(\"success\")\r\n  },\r\n  onError(config){\r\n    console.log(\"Error\")\r\n  }\r\n}\r\n\r\n\r\nlet a = new MP(t)\r\n\r\na.interceptors.request.use(function(config) {\r\n  config.rest = 'true';\r\n  //alert('tt')\r\n  return config;\r\n});\r\n\r\n\r\n//let s = {\r\n  //debug:true,\r\n  //validateHit:true,\r\n  //proxyURL:\"https://linpiner.com/\",\r\n//}\r\n//let b = new MP(s)\r\n//window.test = new MP()\r\n//a.get(\"/debug/collect\",{data:{test:1}})\r\n//a.post(\"/debug/collect\",{data:{test:2}})\r\na.post({data:{tid:\"UA-123456\",v:\"1\"}})\r\na.get({data:{\"cd1\":\"test\"}})\r\n//a.post({data:{tid:\"UA-987654\"}})\r\n//b.post({data:{'test':1}})\r\n//console.log(a.Interceptor)\r\n*/\r\n//window.a = a\r\nexport default MP\r\n","import Store from './common'\r\nimport helper from './helper'\r\n\r\nclass Logger {\r\n  constructor(config){\r\n    this.log = new Store()\r\n    this.maxLogLength = config.maxLogLength\r\n    this.debug = config.debug\r\n  }\r\n    enqueue(val) {\r\n      if(!this.debug){\r\n        console.log(\"debug mode paused, won't record any log right now\")\r\n      }\r\n\r\n      if(this.size() < this.maxLogLength){\r\n        this.log.add({\r\n          time : helper.formatTime(new Date),\r\n          ...val,\r\n        });\r\n      }\r\n      if(this.size() >= this.maxLogLength){\r\n        this.log.shift()\r\n        this.log.add({\r\n          time:helper.formatTime(new Date),\r\n          ...val})\r\n      }\r\n      return this.log\r\n    }\r\n\r\n    dequeue() {\r\n        let de = this.log.shift();\r\n        return de\r\n    }\r\n\r\n\r\n    isEmpty() {\r\n        return this.log.length === 0;\r\n    }\r\n\r\n    clear(){\r\n      this.log.remove()\r\n      return this.log\r\n    }\r\n\r\n    size(){\r\n      return this.log.size()\r\n    }\r\n    getlog(){\r\n      return this.log\r\n    }\r\n}\r\n\r\n\r\nexport default Logger\r\n","import _default from './config';\r\nimport Interceptor from './Interceptor';\r\nimport Request from './request';\r\nimport schema from './validation'\r\nimport helper from './helper'\r\nimport Store from './common'\r\n\r\nclass MP{\r\n  constructor(options = {} ){\r\n    this.default = this.create(options)\r\n   this.interceptors = {\r\n    request: new Interceptor(),\r\n  response: new Interceptor(),\r\n};\r\n\r\n\r\n  }\r\n\r\n   getLog(){\r\n     let log = new Store();\r\n     return log.getLog();\r\n   }\r\n\r\n  get(...args){\r\n   let op = this._preprocessArgs(\"GET\",args)\r\n   if(!op){\r\n\r\n   }\r\n   return this.request(op)\r\n  }\r\n\r\n  post(...args) {\r\n    let op = this._preprocessArgs('POST', args);\r\n     //console.log(op)\r\n    if (!op) {\r\n      return op\r\n    }\r\n    return this.request(op)\r\n  }\r\n\r\n\r\n  create(options = {}){\r\n    if(JSON.stringify(options) === '{}') throw new Error(\"Error : config could not empty!\")\r\n    let config = {\r\n    ...JSON.parse(JSON.stringify(_default)),\r\n    ...options\r\n  };\r\n  config.url = this.getEnvURL(config)\r\n  helper.merge(config.data,config.defaultGaData)\r\n  console.log(config)\r\n    return config;\r\n  }\r\n\r\n\r\n\r\n\r\n  _preprocessArgs(method, ...args) {\r\n  let options;\r\n  //\r\n  let arg = args.flat()\r\n  //window.arg = arg\r\n  if(typeof arg[0] == \"object\"){\r\n    options = {\r\n      method,\r\n      url:this.default.url,\r\n    ...arg[0]}\r\n  }\r\n\r\n  console.log('aeg')\r\n\r\n  //let { error, value } = schema.validate(options.data);\r\n  //console.log(error)\r\n  //helper.Error(error)\r\n  console.log(options)\r\n  //console.log(arg)\r\n  /*if (arg.length == 1 && typeof arg[0] == 'string') {\r\n    options = { method, url: arg[0] };\r\n  } else if (arg.length != 1 && arg[1].constructor == Object) {\r\n    options = {\r\n      ...arg[1],\r\n      method,\r\n      url:arg[0],\r\n    };\r\n  } else if(arg[0].constructor == Object) {\r\n    options = {method, url:this.getEnvURL()}\r\n    return options;\r\n  }else{\r\n    return undefined;\r\n  }*/\r\n  return options;\r\n}\r\n\r\n\r\ngetEnvURL(config){\r\n  if(config.debug && config.validateHit){\r\n    return config.GAdebugURL\r\n  }\r\n  if(config.debug){\r\n    return config.GAURL\r\n  }\r\n  if(!config.debug){\r\n    return config.proxyURL\r\n  }\r\n}\r\n\r\nrequest(options){\r\n\r\n  const res = new Request()\r\n  // 合并\r\n  let cog = options\r\n  let mh = options.method\r\n  //delete options.data\r\n  //let cog = {\r\n    //...this.default,\r\n    //...options\r\n  //}\r\n  //console.log(this.default)\r\n  helper.merge(cog,this.default)\r\n  cog.method = mh\r\n  // 检验参数\r\n  //替换 baseURL\r\n  //cog.url = this.getEnvURL(cog)\r\n  //console.log(cog)\r\n\r\n  // 变换下请求\r\n  let {transferRequest} = cog\r\n\r\n  if(transferRequest) cog = transferRequest(cog)\r\n    //delete cog.transferRequest\r\n    //delete this.default.transferRequest\r\n    //transferRequest = (cog) => cog;\r\n\r\n  let list = this.interceptors.request.list();\r\n  list.forEach(fn => {\r\n  cog = fn(cog);\r\n});\r\n  //window.cog = cog\r\n  //window.cog = cog\r\n  //window.res= res\r\n  //cog.success = this.onSuccess\r\n  //cog.fail = this.onError\r\n  // 正式请求\r\n  return res.send(cog)\r\n}\r\n\r\n\r\n}\r\n\r\nexport default MP\r\n","import Logger from './log'\r\nimport _default from './config'\r\nconst Log = new Logger(_default)\r\nclass Request {\r\n  constructor(){\r\n\r\n  }\r\n\r\n\r\n  webRequest(option){\r\n    //let {url,method,data} = option\r\n    // object to params?\r\n      window.option = option\r\n      if (String(option) !== '[object Object]') return undefined\r\n      option.method = option.method ? option.method.toUpperCase() : 'POST'\r\n      option.data = option.data || {}\r\n      var formData = []\r\n      for (var key in option.data) {\r\n        formData.push(''.concat(key, '=', option.data[key]))\r\n      }\r\n      option.data = formData.join('&')\r\n\r\n      if (option.method === 'GET') {\r\n        option.getUrl= option.url + \"?\" + option.data\r\n      }\r\n      let {transferResponse} = option\r\n\r\n      console.log(option)\r\n      var xhr = new XMLHttpRequest()\r\n      xhr.responseType = option.responseType || 'json'\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          if (xhr.status === 200) {\r\n            if(transferResponse)\r\n            {\r\n              console.log(xhr.response)\r\n              Log.enqueue({\r\n                url:option.url?option.url:option.getUrl,\r\n                data:option.data,\r\n                res:option.validateHit ? transferResponse(xhr.response): xhr.status,\r\n                //transferResponse(xhr.response)\r\n              })\r\n              if(!!option.onSuccess){\r\n                option.onSuccess(option)\r\n              }\r\n\r\n                //delete option.transferRespons\r\n                //transferResponse = (res)=> res\r\n\r\n\r\n            }else{\r\n              Log.enqueue({\r\n                url:option.url?option.url:option.getUrl,\r\n                data:option.data,\r\n                res:option.validateHit ? xhr.response : xhr.status,\r\n              })\r\n              if(!!option.onSuccess){\r\n                option.onSuccess(option)\r\n              }\r\n\r\n            }\r\n          } else {\r\n              //this.fail()\r\n              Log.enqueue({\r\n                error:\"Error\",\r\n                url:option.url?option.url:option.getUrl,\r\n                res:option.validateHit ? xhr.response : \"Error\"\r\n                //data:option.data,\r\n                //transferResponse(xhr.response)\r\n              })\r\n              if(!!option.onError){\r\n              option.onError(option)\r\n              }\r\n\r\n\r\n          }\r\n        }\r\n      }\r\n      if(option.method == \"GET\"){\r\n        xhr.open(option.method, option.getUrl, true)\r\n        xhr.send()\r\n      }\r\n\r\n      if (option.method === 'POST') {\r\n        xhr.open(option.method, option.url, true)\r\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\r\n        xhr.send(option.data)\r\n      }\r\n\r\n      //console.loh(t)\r\n    }\r\n\r\n\r\nweRequest(options){\r\n   console.log(\"test on wechat\")\r\n   let {transferResponse} = options\r\n   wx.request({\r\n     url:options.url,\r\n     method:options.method,\r\n     data:options.data,\r\n     header:options.headers,\r\n     timeout:options.wxRequestTimeout,\r\n     success(res){\r\n       console.log(res)\r\n       if(transferResponse){\r\n       Log.enqueue({\r\n         url:options.url?options.url:options.getUrl,\r\n         data:options.data,\r\n         res:options.transferResponse(res),\r\n       })\r\n     }else{\r\n       Log.enqueue({\r\n         url:options.url?options.url:options.getUrl,\r\n         data:options.data,\r\n         res:res,\r\n       })\r\n     }\r\n       if(!!options.onSuccess){\r\n         options.onSuccess(options)\r\n       }\r\n     },\r\n     fail(res){\r\n       console.log(res)\r\n       if(transferResponse){\r\n       Log.enqueue({\r\n         url:options.url?options.url:options.getUrl,\r\n         data:options.data,\r\n         res:options.transferResponse(res),\r\n       })\r\n     }else{\r\n       Log.enqueue({\r\n         url:options.url?options.url:options.getUrl,\r\n         data:options.data,\r\n         res:res,\r\n       })\r\n     }\r\n       if(!!options.onError){\r\n         options.onError(options)\r\n       }\r\n     }\r\n   })\r\n}\r\nisonWechat(){\r\n  return typeof wx == 'object'? true : false\r\n}\r\n\r\nsend(options){\r\n  if(this.isonWechat()){\r\n    return this.weRequest(options)\r\n  }\r\n  return this.webRequest(options)\r\n\r\n}\r\n\r\n}\r\n\r\nexport default Request\r\n","//const Joi = require('@hapi/joi');\r\nconst schema = {}\r\n\r\nexport default schema\r\n"],"sourceRoot":""}